
# 【Python学习分享文章】_re_search_搜索

## 综述

.search() 和 .match() 功能很像，目标都是匹配。

但是如果准确去翻译的话，我的理解的翻译应该是：
- match，验证形式完全一致，从头开始。
- 寻找到形式一样的内容，无论从哪个位置开始都可以。

比较正统的翻译：
- match，匹配。
- search，搜索。突然想到，一个可能更好的翻译：“检索”。

我觉得看看就好，英文的表达的意思会和中文有区别，有些是无法用词语翻译词语的，私以为。

### - 目的

- match。完全匹配数据。
- search。不完全匹配。


### - 使用前提

- ```match```  
构建代码之前，已知、确认手里数据的结构
- ```search```  
未知上述内容

## ```.match()``` 困境

如果数据结构有一点点无关字符，就完全无法使用了。demo 如下：


```python
import re

p = re.compile(r'(\d+)-(\d+)-(\d+)')
print(p.match('aa2018-11-01').groups())
```


    ---------------------------------------------------------------------------

    AttributeError                            Traceback (most recent call last)

    <ipython-input-4-c6fd9c5fb850> in <module>()
          2 
          3 p = re.compile(r'(\d+)-(\d+)-(\d+)')
    ----> 4 print(p.match('aa2018-11-01').groups())
    

    AttributeError: 'NoneType' object has no attribute 'groups'


【解读】：  
无法获得分组情况。  
【困境】：  
时间格式的部分是正确的，但是因为方法的功能并不是万能的，导致眼前的“好数据”就这么被错过了。“我们不能让这样的事情发生，要想办法解决”。于是，就有了 .search() 这个方法了。   
【思考】：  
但是前提还是要保证整体连贯的数据是正确的，只能是头部的前面出现其他字符，尾巴出现其实没有影响，因为默认是无关数据，自动忽略了。  
【验证】：如果中间的月份有字母参杂进去，还能使用么？后面看看能不能验证一下。

## ```.search()``` 搜寻

和 ```.match()``` 很像，但是不需要完全匹配。两者的区别是：
1. ```.match()``` **必须**从第一个字符开始，所有位置字符均相同才能匹配；
2. ```.search()```就像大家平时理解的那样，从前往后依次检索，找到整体连续的内容满足要求即可，不需要从第一位开始。

简单理解可以说是：
1. ```.match()``` 是从头就完全相同；
2. ```.search()``` 是包含内容即可。

demo 如下：


```python
p_s = re.compile(r'(\d+)-(\d+)-(\d+)')
print(p_s.search('aa2018-11-01').groups())
```

    ('2018', '11', '01')
    

【分析】：  
我们可以看到，即使前面有其他数据，也会略过，向后找到了完整的、满足规则的数据结构，然后进行输出了。

## 总结

### - 使用方法

- ```.search()``` 在数据中找到目标数据；
- ```.match()``` 一般会用作完全匹配之后，进行分组使用。


## 补充

之前的【验证】的观察。

既然 ```.search()``` 可以忽略无关数据，那么中间有其他数据，行不行呢？我的判断是不行的。验证如下：


```python
p_try = re.compile(r'(\d+)-(\d+)-(\d+)')
print(p_try.search('aa2018-a11-01').groups())
```


    ---------------------------------------------------------------------------

    AttributeError                            Traceback (most recent call last)

    <ipython-input-6-92bb3e3bf29f> in <module>()
          1 p_try = re.compile(r'(\d+)-(\d+)-(\d+)')
    ----> 2 print(p_try.search('aa2018-a11-01').groups())
    

    AttributeError: 'NoneType' object has no attribute 'groups'


【分析】：  
是的，不行，即使是 ```.search()```，也需要保证满足规则的数据是要连续的，要不然，分散的数据都可以被识别，也就没有准确性了嘛。

---
注：  
个人微信公众号：codeAndWrite
