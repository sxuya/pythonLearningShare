
# 28.【Python学习分享文章】_class类

## 综述

这个视频教程相当不错，把语句的逻辑介绍得很清楚，看书没有懂的介绍全明白了。

什么是“类”，可以简单理解成“人类”的“类”、“归类”的类，就是抽象出相同类别的事物，建立一个类（别）的总体属性。比如说“人”这个“类”，无论是哪个个体（编程里面就叫做实例，天煞的名字，真的莫名其妙呀，费解呀），都是具有两个眼睛、头发、四肢、身高等等（建立得越详细，描述得越完整，相应的文件大小就越大），眼睛这个结构（类里面的属性）具有不同的情况（参数），比如大小的毫米数、颜色的 RGB 数值等，其他的类似。

上面是定义一个“人”（建立一个“类”）的基础，但是“人”是会活动的、做事的，比如走路、吃饭这些行为功能（“类”可以进行输入、输出、处理数据，这些可以定义出来（def 出来），也就是函数——叫做类的“方法”），在需要的时候，可以开始吃饭、如厕（在必要的时候，进行输入、输出），看需要了（看你有没有调用相应的函数（类的方法））

【思想核心】具有“类”这一语法特征的语言，就是面向对象编程。（待求证，下面会举例说明为什么这么叫）。

## 拆解介绍

### - 设定背景

电脑里面的虚拟人物，无论1个、2个、n个，都是一样的，简单期间，就是有2个人物。总要有“名字”（一个属性）进行区别，比如“A”和“B”、“舒克”和“贝塔”；

加入去冒险、打怪去升级，那么就会“是不是挂掉”，就需要有“血量”（增加另一个属性），比如“100”和“120”。

如果快要没血的时候，会向同伴发出求救信号（执行一个动作，也就是类的方法）；但是这是看情况的，不是一直会发生的，如果一直碾压对手，那么就不会进行（不会执行、调用这个方法），如果需要，就会求救（调用方法）。

其他的属性、方法的增加加没有必要说明了，只不过是数量问题，不是概念的问题了。

### - 面向过程编程展示

直观理解：需要根据程序执行顺序，从上到下编写函数。

如下：


```python
playerA = {'name':'shuke', 'hp':100}
playerB = {'name':'beita', 'hp':120}
# 定义、生成了两个人物

def print_playerInfo(player):
    print("the player's name is %s,the hp is %s" %(player['name'],player['hp']))
# 定义输出任务名字、血量的信息    

print_playerInfo(playerA)
print_playerInfo(playerB)
```

    the player's name is shuke,the hp is 100
    the player's name is beita,the hp is 120
    

【困境】：如果功能再复杂一点（肯定的呀，现在的我们不会觉得上面这个是游戏了），相应的函数会编写得长一些，如果再复杂，就需要差分成几个小的函数。

### - 面向对象编程

#### --【思想】：

先把对象的整体框架搭建出来（**归纳**的思想），单个人物（对象）去设定框架里面具体的参数情况。即，先建立类，单个实例是设定不同参数的类，这个过程叫做“实例化”。

人的大脑是善于“分类”、‘归类’的，所以按照这个大脑的特点，进行编程方式的转变。

#### -- 代码如下：


```python
class Player():
    def __init__(self, inputName, inputHp):
        self.name = inputName
        self.hp = inputHp
    def printHelp(self):
        print("Mayday, mayday.it's %s,and my hp only is %s, I need help, come here quickly." %(self.name, self.hp))
    def sayHi(self):
        print("Hello, my name is %s, it's nice to meet you." %self.name)
        
playerA2 = Player(inputName = 'shuke',inputHp = 100)
playerB2 = Player('beita',120)
playerA2.printHelp()
playerB2.sayHi()
```

    Mayday, mayday.it's shuke,and my hp only is 100, I need help, come here quickly.
    Hello, my name is beita, it's nice to meet you.
    

#### -- 解释

分析其中的语句的逻辑关系、参数传递过程。

- ```class```。这个是建立类的关键字，就和 ```def``` 是建立函数的关键字是一样的道理。
- ```Player()```。这个是类的名字。【首字母大写】，这是 PEP8 的规范，为了区分，也就是普通的参数，一定需要【小写字母】开头。
- 因为这两个人物都有相同的设定，有名字、血量，还都能“说话”，所以建立这个“类”，内部的解释请继续往下：【以上为定义方向】
- 跳过两个 def 先。
- ```playerA2``` 和 ```playerB2``` 是一个具体的玩家，```Player()``` 是前面建立起来的抽象的“类”
- 类比。无论是帅哥还是美女，都是属于“人”这一“类”，具有人类的特征，不过，具体到人，是具有不同的特征的，头发是长的还是短的，眼睛是黑色的还是蓝色的……
- 将“人”到具体的“帅哥美女”的过程，叫做：类的实例化。
- 将“类”```Player()``` 到 具体的玩家（```playerA2```、```playerB2```）的等号过程，叫做类的实例化。【以上是实例化方向】
- 看第二个 ```def printHelp()```，这个是定义的“类的方法”，即可执行的操作。这里是进行输出一些文字内容。
- 同样的， ```def sayHi()``` 只是另外一个定义的方法。
- 方法根据自己的需要去建立，可多可少，可简单，可强大。【以上是定义方法】
- 【重要】来到最需要解释的地方 ```def __init__(self)```。英文就是“initialization”的缩写，“初始化”，我认为更方便的理解是“预定义”（的功能）。当引用了 ```Player()``` 这个类，比如 ```playerA2``` 就是引用了这个类，就会执行预定义功能的事情。这里是进行了两个属性的值的定义，定义成输出的名字（inputName）和输入的血量（inputHp）。
- 【更重要】```self``` 的理解。self（英文翻译“自我”，“本身”可能更好）是实例化后代表的那个实力的名字。也就是实例化成 ```playerA2``` 后，类的 ```self``` 就代表、等价于 ```plsyerA2```，实例化成 ```playerB2``` 后，```self``` 就等价于 ```playerB2```。也就是说，```self``` 是实例化之前、定义类的过程中实例的代指，就像英文的 he、she、it，具体的情况指具体的内容。
- ```self``` 跟着的 ```.name``` 和 ```.hp```，就是类的属性名字，具体的值就是 = 的右边的内容，这里是进行参数的传输，是在实例化的时候进行设定的。
- 【注意】类里面的函数（方法），第一个参数一定是 self，不能缺少。（是为了进行指代么？所有都要有，为什么不能省略呢？这样不就优雅一些么？改了一下代码，把所有的self去掉，也就是不指代了，也还是不行，应该是按照搜索到回答：编译器里面这么设定了，不能随意更改）,（但是这个 self 是可以改成其他的，比如都改成 it，也是没有问题的，但是 PEP8 的规定，大家都用 self）

## 总结

- 先精简代码，按照顺序去理一遍思路：


```python
class Player():  # 1. 定义一个类，里面有 属性、方法
    def __init__(self, inputName, inputHp):  # 3. 特殊写法，表示实例化的时候自动执行的意思
        self.name = inputName  # 4. 类的属性值进行赋值
        self.hp = inputHp
    def printHelp(self):  # 5. 定义类的方法
        print("Mayday.it's %s,****" %(self.name))  # 6. 方法的内容

playerB2 = Player('beita',120)  # 2. 类的实例化，具体到一个实例。类的属性值从这里传入
playerA2.printHelp()  # 这个实例执行其中的一个方法
```

- 面向对象编程，更符合人的思考模式
- 面向过程编程，更适合计算机。
- 编程语言的编译器，应该就是类似将面向对象的书写，翻译整理成面向过程的语言吧（待求证）

---
注：  
个人微信公众号：codeAndWrite
